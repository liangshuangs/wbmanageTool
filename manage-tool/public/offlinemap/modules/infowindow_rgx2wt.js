/**/ï»¿_jsload&&_jsload('infowindow', '(function(i){var hJ=i.Utils;var hI=hJ.format;var e={DEBUG:true,PREFIX:"BMap_bubble",WINDOWOFFSET:[25,-8],POPSTYLE:"padding:0 8px; position:absolute; display:none; cursor:default; border:1px solid #ddd;background-color:#fff;border-radius:10px;",TOPSTYLE:"height:31px",TITLESTYLE:"line-height:30px;display:block;overflow:hidden;height:30px;white-space:nowrap;color:#333;",BUTTONSSTYLE:"float:right;position:absolute;top:-2px;right:0px;height:30px;",CENTERSTYLE:"z-index:3; position:relative;",CONTENTSTYLE:"display:block; font-size:14px; line-height: 24px; position:absolute; top: 2px; color:#555",BOTTOMSTYLE:"display:block; z-index:2; position:absolute;"};var hK="";e.closeButtonImg=eV.imgPath+"iw_close.gif";e.tailImg=eV.imgPath+"iw_tail.png";e.plusImg=eV.imgPath+"iw_plus.gif";e.minusImg=eV.imgPath+"iw_minus.gif";e.blankImg=eV.imgPath+"blank.gif";e.popWindowShadowImg=eV.imgPath+"iws3.png";e.infoWindowDomTemplate=hI([\'<div class="{PREFIX}_pop" style="{POPSTYLE}">\',\'<div class="{PREFIX}_top" style="{TOPSTYLE}">\',\'<div class="{PREFIX}_title" style="{TITLESTYLE}">\',"</div>",\'<div class="{PREFIX}_buttons" style="{BUTTONSSTYLE}">\',"</div>","</div>",\'<div class="{PREFIX}_center" style="{CENTERSTYLE}">\',\'<div class="{PREFIX}_content" style="{CONTENTSTYLE}">\',"</div>","</div>",\'<div class="{PREFIX}_bottom" style="{BOTTOMSTYLE}">\',"</div>","</div>"],e);function T(hO,hM){for(var hN=0,hL=hO.length;hN<hL;++hN){if(hO[hN].className===e.PREFIX+"_"+hM){return hO[hN]}}throw Error("Fatal Error:"+hM+" is not exists in InfoWindow DOM!")}e.infoWindowShadowDomTemplate=(function(){var hL=11;var hN=[\'<div class="shadow" style="position: absolute;display:none" type="infowindow_shadow">\'];for(var hM=0;hM<hL;++hM){hN.push(\'<div><img onmousedown="{onmousedown}" style="{shadowDim};position:absolute;{s\'+hM+\'}" src="{src}"/></div>\')}hN.push("</div>");return hI(hN,{onmousedown:"return false;",shadowDim:"width:1144px;height:370px"})})();C.extend(am.prototype,{initialize:function(hM){var hN=this.map=hM.map;hN._asyncRegister();this.overlay=hM;this.render();this._bind();if(this._config.enableMaximize){this.enableMaximize()}else{this.disableMaximize()}this.setTitle();this.setContent();if(this._config.ifMaxScene){this.setMaxScene(true)}this.redraw(null,true);var hL=hN.infoWindowDoms;if(hL){if(hM.toString()==="Marker"){hL.marker=hM}else{hL.marker=null}}},render:function(){var hN=this.map;var hU=this;var hR=hN.infoWindowDoms;if(!hR){hR=hN.infoWindowDoms={};hN.infoWindow=hN.infoWindowDoms;var hQ=[hI(e.infoWindowShadowDomTemplate,{src:e.popWindowShadowImg,s0:"left:-323px;top:0px;",s1:"left:-393px;top:0px;",s2:"left:-1033px;top:0px;",s3:"top:-30px;",s4:"left:-360px;top:-30px;",s5:"top:-30px;",s6:"left:-14px;top:-310px;",s7:"left:-255px;top:-310px;",s8:"left:-440px;top:-310px;",s9:"left:-255px;top:-310px;",s10:"left:-754px;top:-310px;"}),e.infoWindowDomTemplate].join("");dC(hN.platform,hQ);if(hN.platform.lastChild.className===""){hN.platform.removeChild(hN.platform.lastChild)}hR.popDom=hN.platform.lastChild;hR.shadowDom=hR.popDom.previousSibling;var hM=hR.popDivs=hR.popDom.getElementsByTagName("DIV");hR.shadowDivs=hR.shadowDom.getElementsByTagName("DIV");hR.contentMain=T(hM,"content");hR.contentDiv=T(hM,"content");hR.centerDiv=T(hM,"center");hR.buttonsDiv=T(hM,"buttons");hR.titleDiv=T(hM,"title");hR.bottomDiv=T(hM,"bottom");hR.maxContentDiv=dC(hR.contentMain,\'<div class="BMap_bubble_max_content" style="display:none;position:relative"></div>\');var hW=hR.buttonsDiv;var hV=hI([\'<div style="cursor:pointer">\',\'<div style="position:absolute;top:{top};width:{width};height:{height};\',\'-moz-user-select:none;cursor:pointer;z-index:10000;display:none"/>&times</div>\',"</div>"],{top:"9px",right:"24px",width:"10px",height:"10px",src:e.plusImg});hR.maxButton=dC(hW,hV);var hT=20;var hX=hI([\'<div style="cursor:pointer;width:{width};height:{height};color:{color}">\',\'<div style="position:absolute;top:{top};right:{right};text-align:center;line-height:{height};\',\'-moz-user-select:none;cursor:pointer;z-index:10000;font-size:{fontSize}"/>&times</div>\',"</div>"],{top:"2px",right:"12px",width:"32px",height:"30px",fontSize:hT+"px",color:"#ccc"});hR.closeButton=dC(hW,hX);var hO="";var hL=e.tailImg;var hP=hI(["<img ",\'style="z-index:1;position:absolute;\',"width:{width};height:{height};left:{left};bottom:{bottom};",\'{filter}" src="{src}" />\'],{src:hL,left:"107px",bottom:"-30px",width:"58px",height:"31px",filter:hO});var hS=hR.tail=dC(hR.popDom,hP)}hR.hashCode=hR.popDom.hashCode=this.hashCode},_bind:function(){var hS=this;var hL=hS.map;var hQ=hL.infoWindowDoms;var hM=hQ.closeButton;var hU=hQ.popDom;var hN=function(hV){if(hS.hide()===true){hS.dispatchEvent(new a6("onclickclose"))}c5(hV)};hM.addEventListener("touchstart",function(hV){c5(hV)});hM.addEventListener("click",hN);var hT=function(hV){this.style.color="#ccc"};var hP=function(hV){this.style.color="#6DA1EA"};hM.onmouseover=hP;hM.onmouseout=hT;var hO=["mousedown","mouseout","mouseover","click","keydown","selectstart"];C.each(hO,function(hV){C.on(hU,hV,h)});C.on(hU,"dblclick",c5);C.on(hU,"contextmenu",c5);if(window.addEventListener){hU.addEventListener("DOMMouseScroll",h,false)}var hR=function(hW){var hV=hS.map.infoWindowDoms.maxButton;if(!hS.isWinMax){hS.maximize()}else{hS.restore()}c5(hW)};hQ.maxButton.onclick=hR;if(C.Platform.iphone||C.Platform.ipad||C.Platform.android){C.on(hM,"touchend",hN);C.on(hQ.maxButton,"touchend",hR)}hU=hM=hQ=null},_setWinSize:function(hU,hT){var h4=this._config;hU=hU||h4.width;hT=hT||h4.height;if(hT<0){hT=0}var hO=h4.offset.width;var hS=h4.offset.height;var h3=[25,-1,25,-1,25,-1,25,34];var hN=[25,-1,25,-1,25,-1,25,50];h3[1]=hU-h3[0]-h3[2];if(C.isIE&&document.compatMode!=="CSS1Compat"){h3[3]=hU}else{h3[3]=hU-2}h3[5]=hU-h3[4]-h3[6];hN[1]=hN[0];hN[3]=hT-hN[0]-hN[4];if(C.isIE&&document.compatMode!=="CSS1Compat"){hN[5]=hN[4]}else{hN[5]=hN[4]-1}var h5=[0,h3[0],hU-h3[2],0,0,h3[4],hU-h3[6],Math.ceil((hU-h3[7])/2)];var h0=[0,0,0,h3[0],hT-h3[4],hT-h3[4],hT-h3[4],hT-h3[4]];var hM=this._allPopLeft=hO-Math.round((hU-h3[7])/2);var h1=this._allPopTop=hS-hT-24;var h6=Math.floor((hT+hN[7])/2.03)+30;var hQ=[70,-1,70,-1,-1,-1,50,-1,140,-1,70];var hY=[30,30,30,25,25,25,60,60,60,60,60];hQ[7]=Math.round((hU+80-(hQ[6]+hQ[8]+hQ[10])-50)/2);hQ[9]=hQ[7]+50;var h2=hQ[6]+hQ[7]+hQ[8]+hQ[9]+hQ[10];hQ[1]=h2-hQ[0]-hQ[2]-29;hQ[5]=hQ[3]=h6-hY[0]-hY[6]+70;hY[3]=hY[4]=hY[5]=h6-hY[0]-hY[6];hQ[4]=(hQ[0]+hQ[1]+hQ[2]+hY[3]+29)-hQ[5]-hQ[3];var hL=[h6-60-1,h6-60-1+hQ[0],h6-60-1+hQ[0]+hQ[1],29,29+hQ[3],29+hQ[3]+hQ[4],0,hQ[6],hQ[6]+hQ[7],hQ[6]+hQ[7]+hQ[8],hQ[6]+hQ[7]+hQ[8]+hQ[9]];var hX=[0,0,0,hY[0],hY[0],hY[0],hY[0]+hY[3],hY[0]+hY[3],hY[0]+hY[3],hY[0]+hY[3],hY[0]+hY[3]];this._allShadowLeft=hO-hQ[6]-hQ[7]-70;this._allShadowTop=hS-h6+30;var hP=323-h6+90;var hZ=740+hP;var hV=function(h7){return"overflow: hidden; z-index: 1; position: absolute;left:"+hL[h7]+"px;top:"+hX[h7]+"px;width:"+hQ[h7]+"px;height:"+hY[h7]+"px;"};var hR=this.map.infoWindowDoms;if(hR&&hR.shadowDivs){for(var hW=0;hW<hR.shadowDivs.length;hW++){hR.shadowDivs[hW].style.cssText=hV(hW)}hR.shadowDivs[3].firstChild.style.left="-"+hP+"px";hR.shadowDivs[5].firstChild.style.left="-"+hZ+"px"}this.setPosition()},setWidth:function(hL){hL=hL*1;if(!hL&&hL!==0||isNaN(hL)||hL<0){return}if(hL!==0){if(hL<220){hL=220}if(hL>730){hL=730}}this._config.width=hL;if(this._isMyDom()&&this.isOpen()){var hM=this;this.redraw(function(){hM.setPanToWithDelay()})}},setHeight:function(hL){hL=hL*1;if(!hL&&hL!==0||isNaN(hL)||hL<0){return}if(hL!==0){if(hL<60){hL=60}if(hL>650){hL=650}}this._config.height=hL;var hN=this.map;if(this._isMyDom()&&this.isOpen()){if(this._config.width!==0){hN.infoWindowDoms.contentDiv.style.width=this._config.width+"px"}var hM=this;this.redraw(function(){hM.setPanToWithDelay()})}},setMaxWidth:function(hL){hL=hL*1;if(!hL&&hL!==0||isNaN(hL)||hL<0){return}if(hL!==0){if(hL<220){hL=220}if(hL>730){hL=730}}this._config.maxWidth=hL;if(this.isWinMax){this.redraw()}},setTitle:function(hN){var hM=this.map;if(hN===""){this._config.title=""}hN=hN||this._config.title;if(!this._isMyDom()){return}var hL=hM.infoWindowDoms.titleDiv;hL.innerHTML=hN;C.show(hL)},setContent:function(hN){hN=hN||this.content;var hO=this.map;this.content=hN;if(!this._isMyDom()){return}if(this.isWinMax){return}var hM=hO.infoWindowDoms.contentDiv;var hL=hO.infoWindowDoms.maxContentDiv;if("[object String]"===Object.prototype.toString.call(hN)){hM.innerHTML=hN}else{hM.innerHTML="";hM.appendChild(hN)}if(this._config.width!==0){hM.style.width=this._config.width+"px"}hL.style.display="none";hM.style.display=""},setMaxContent:function(hM){if(!hM){hM=this._config.maxContent}else{this._config.maxContent=hM}var hN=this.map;if(!this._isMyDom()){return}var hL=hN.infoWindowDoms;hL.maxContentDiv.innerHTML=hM;if(!this.isWinMax){return}hL.contentDiv.style.display="none";hL.maxContentDiv.style.display=""},redraw:function(hX,hT){if(!this._isMyDom()){return}if(!hT&&!this.isOpen()){return}hX=hX||function(){};var hP=this;var hS=100;var hQ=hP.map.infoWindowDoms;var hO=0;var hR=7;var hW=20;if(C.Platform.iphone||C.Platform.android){hR=-1;hW=25}if(this.isWinMax){var hV=hP._config.maxWidth;function hL(){var h0=hO+hQ.maxContentDiv.scrollHeight;h0=h0>hP.map.height?hP.map.height-60:h0;hV=hV<220?220:hV;hV=hV>600?600:hV;h0=h0<55?55:h0;h0=h0>440?440:h0;hP._setWinSize(hV+32,h0+32);hQ.contentMain.style.width=hV+"px";hQ.contentMain.style.height=h0+"px";hQ.closeButton.style.left=hV+hR+"px";hQ.maxButton.style.left=hV-hW+hR+"px";hQ.contentMain.style.overflow="hidden";hQ.titleDiv.style.width=hV+"px";hQ.centerDiv.style.width=hV+"px";hQ.popDom.style.width=hV+"px";hQ.centerDiv.style.height=h0+"px";hQ.tail.style.left=(Math.round(hV/2)-parseInt(hQ.tail.style.width,10)/2)+"px";hQ.bottomDiv.style.width=hV+"px";hP.dispatchEvent(new a6("onresize"));hP.setPanToWithDelay();hX()}if(this.isOpen()){hL()}else{setTimeout(hL,hS)}}else{var hZ=hQ.contentDiv.style;var hU=hQ.titleDiv.style;var hM=hQ.contentMain.style;hZ.width=hM.width="auto";hZ.height=hM.height="auto";hZ.whiteSpace="nowrap";if(hQ.popDom.style.display==="none"){hQ.popDom.style.visibility="hidden";hQ.shadowDom.style.visibility="hidden";this.show()}var hV=hQ.contentMain.scrollWidth||0;hV=hP._config.width===0?hV:hP._config.width;hV=hV<220?220:hV;hV=hV>600?600:hV;hM.width=(hV-12)+"px";var hN;hN=hQ.contentMain.scrollHeight||0;hN=hP._config.height===0?hN:hP._config.height;hP._setWinSize(hV+32,hN+32);function hY(){hZ.whiteSpace="";hM.overflowX=(hP._config.width===0)?"hidden":"auto";hM.overflowY=(hP._config.height===0)?"hidden":"auto";hN=hQ.contentMain.scrollHeight||0;hN=hP._config.height===0?hN:hP._config.height;hN=hN<55?55:hN;hN=hN>440?440:hN;hP._setWinSize(hV+32,hN+32);hQ.popDom.style.visibility="";hQ.shadowDom.style.visibility="";hM.height=hN+"px";hQ.centerDiv.style.height=hN+"px";hQ.tail.style.left=(Math.round(hV/2)-parseInt(hQ.tail.style.width,10)/2)+"px";hQ.tail.style.top=hN+32+"px";hQ.bottomDiv.style.width=hV+"px";hQ.titleDiv.style.width=hV+"px";hQ.centerDiv.style.width=hV+"px";hQ.popDom.style.width=hV+"px";hP.dispatchEvent(new a6("onresize"));hP.setPanToWithDelay();hX()}if(this.isOpen()){hY()}else{setTimeout(hY,hS)}}},setPosition:function(hP,hQ){if(!this._isMyDom()){return}var hL=this.map.infoWindowDoms;var hM=this.overlay;var hO=this.map.pointToOverlayPixelIn(hM.getPoint(),{zoom:hQ,center:hP});var hN=hM.getIcon();var hR=new eb(hO.x-hN.offset.width+hN.infoWindowOffset.width+hM.getOffset().width,hO.y-hN.offset.height+hN.infoWindowOffset.height+hM.getOffset().height);hL.popDom.style.left=this._allPopLeft+hR.x+e.WINDOWOFFSET[0]+"px";hL.popDom.style.top=this._allPopTop+hR.y+e.WINDOWOFFSET[1]+"px";hL.shadowDom.style.left=this._allShadowLeft+hR.x-2+"px";hL.shadowDom.style.top=this._allShadowTop+hR.y-15+"px"},setPanToWithDelay:function(hL){var hM=this;setTimeout(function(){hM.setPanTo()},hL||200)},setPanTo:function(){if(!this.overlay||!this.overlay.getPoint()||!this._config.enableAutoPan||!this._isMyDom()){return}var h1=this.map;var hT=h1.infoWindowDoms;var hN=hT.popDivs;var h2=hT.popDom;if(!hN||!h2){return}var hO=parseInt(T(hN,"content").style.width,10)+2;var hY=parseInt(C.Dom.getComputedStyle(T(hN,"top"),"height"),10)+parseInt(C.Dom.getComputedStyle(T(hN,"center"),"height"),10)+parseInt(C.Dom.getComputedStyle(T(hN,"bottom"),"height"),10);var hW=parseFloat(h2.style.left,10);var hQ=parseFloat(h2.style.top,10);if(this.map._renderType==="webgl"){hW+=parseInt(this.map.platform.style.left,10);hQ+=parseInt(this.map.platform.style.top,10)}else{hW+=this.map.offsetX;hQ+=this.map.offsetY}var hS=new eb(hW,hQ);var hR=new eb(hO+hW,hY+hQ);var hZ;var hX;if(this._config.height!==0&&document.all){if(!h1.temp.infoKey){h1.temp.infoKey=-1}hZ=-h1.temp.infoKey;h1.temp.infoKey=-h1.temp.infoKey}hZ=0;hX=0;var hL=10;var hM=this._config.margin[0];var hP=this._config.margin[1];var h0=this._config.margin[2];var hU=this._config.margin[3];if(hS.x<hU){hZ=-hS.x+hU}if(hS.y<hM){hX=-hS.y+hM}if(hR.x>h1.width-hP){hZ=h1.width-hR.x-hP}if(hR.y>h1.height-h0){hX=h1.height-hR.y-h0}this._loadCollisions();var hV=this._config.collisions;if(hS.x<hV[0][0]&&hS.y<hV[0][1]){if(Math.abs(-hS.x+hV[0][0])<Math.abs(-hS.y+hV[0][1])){hZ=-hS.x+hV[0][0]}else{if(h1.height-hV[0][1]-hV[3][1]<hY){hZ=-hS.x+hV[0][0]}else{hX=-hS.y+hV[0][1]}}if(h1.width-hV[0][0]-hV[1][0]<hO&&hS.y<hV[1][1]){hX=-hS.y+hV[1][1]}}if(hR.x>h1.width-hV[1][0]&&hS.y<hV[1][1]){if(Math.abs(-hR.x+h1.width-hV[1][0])<Math.abs(-hS.y+hV[1][1])&&h1.width-hV[0][0]-hV[1][0]>=hO){hZ=-hR.x+h1.width-hV[1][0]}else{hX=-hS.y+hV[1][1];if(h1.width-hV[0][0]-hV[1][0]<hO&&h1.width-hV[0][0]<hO){hZ=-hS.x+hV[0][0]}}}if(hS.x<hV[3][0]&&hR.y>h1.height-hV[3][1]){if(Math.abs(-hS.x+hV[3][0])<Math.abs(-hR.y+h1.height-hV[3][1])&&(Math.abs(-hS.x+hV[3][0])<Math.abs(hX)&&hX!==0||hX===0)&&h1.width-hV[3][0]>=hO){hZ=-hS.x+hV[3][0]}else{hX=-hR.y+h1.height-hV[3][1]}if(h1.height-hV[0][1]-hV[3][1]<hY&&hS.x<hV[0][0]){hZ=-hS.x+hV[0][0]}}if(hR.x>h1.width-hV[2][0]&&hR.y>h1.height-hV[2][1]){if(Math.abs(-hR.x+h1.width-hV[2][0])<Math.abs(-hR.y+h1.height-hV[2][1])&&(Math.abs(-hR.x+h1.width-hV[2][0])<Math.abs(hX)&&hX!==0||hX===0)&&h1.width-hV[0][0]-hV[1][0]>=hO){hZ=-hR.x+h1.width-hV[2][0]}else{if(h1.height-hV[1][1]-hV[2][1]>=hY){hX=-hR.y+h1.height-hV[2][1]}else{hX=-hS.y+hV[1][1]}if(h1.width-hV[0][0]-hV[2][0]<hO){hZ=-hS.x+hV[0][0]}}}if(hZ!==0||hX!==0){h1.panBy(hZ,hX,{point:this.getPointIn()})}},_loadCollisions:function(){if(!this.map){return}var hM=this.map;this._config.collisions=[[10,10],[10,10],[10,10],[10,10]];var hV=this.map.container;for(var hT=0,hN=hV.children.length;hT<hN;hT++){var hQ;var hW;var hZ=!!(typeof hV.children[hT]._anchor!=="undefined"&&hV.children[hT]._offset);if(hV.children[hT]._jsobj&&hV.children[hT]._jsobj instanceof a2&&hV.children[hT]._jsobj.blockInfoWindow===true){hQ=hV.children[hT]}else{if(hZ){hQ=hV.children[hT]}else{continue}}var hX=hQ.offsetWidth;var hU=hQ.offsetHeight;var hL=hQ._jsobj;var hP;var hS;if(!hL||hZ){if(typeof hQ._anchor!=="undefined"&&hQ._offset&&fQ(hQ).display!=="none"&&fQ(hQ).visibility!=="hidden"){hP=hQ._offset;hS=hQ._anchor}else{continue}}else{if(hL.isVisible()===false){continue}hP=hL.getOffset();hS=hL.getAnchor()}switch(hS){case BMAP_ANCHOR_TOP_LEFT:hW=0;break;case BMAP_ANCHOR_TOP_RIGHT:hW=1;break;case BMAP_ANCHOR_BOTTOM_LEFT:hW=3;break;case BMAP_ANCHOR_BOTTOM_RIGHT:hW=2;break;default:break}var hR=hX+hP.width+10;var hO=hU+hP.height+10;var hY=this._config.collisions[hW];this._config.collisions[hW]=[hR>hY[0]?hR:hY[0],hO>hY[1]?hO:hY[1]]}},enableMaximize:function(){this._config.enableMaximize=true;if(this._isMyDom()){this.map.infoWindowDoms.maxButton.style.display="block"}},disableMaximize:function(){this._config.enableMaximize=false;if(this._isMyDom()){this.map.infoWindowDoms.maxButton.style.display="none"}},show:function(){if(!this._isMyDom()){return}var hM=this.map.infoWindowDoms;if(hM.popDom.style.display!=="none"){return}C.show(hM.popDom);C.show(hM.shadowDom);var hL=new a6("onopen");hL.point=this.getPoint();this.dispatchEvent(hL);this.redraw()},hide:function(){if(!this._isMyDom()){return false}var hM=this.map.infoWindowDoms;if(hM.popDom.style.display==="none"){return false}if(this._config.onClosing()===false){return false}C.hide(hM.popDom);C.hide(hM.shadowDom);if(this.isWinMax){this.isWinMax=false;hM.maxContentDiv.style.display="none";hM.contentDiv.style.display="";hM.maxButton.src=e.plusImg}var hL=new a6("onclose");hL.point=this.getPoint();this.dispatchEvent(hL);this.map.removeEventListener("click",this.map.temp._clickCloseHandler);this.map.temp._clickCloseBinded=false;this.decontrol();return true},maximize:function(){if(!this.map||!this.isOpen()||!this._config.enableMaximize||this.isWinMax){return}if(!this._isMyDom()){return}var hM=this.map.infoWindowDoms.maxButton;var hL=this;hL.isWinMax=true;hM.src=e.minusImg;hL.setMaxContent();hL.map.infoWindowDoms.maxContentDiv.style.display="block";hL.redraw();hL.dispatchEvent(new a6("onmaximize"));hL.setPanToWithDelay()},restore:function(){if(!this.map||!this.isOpen()||!this.isWinMax){return}if(!this._isMyDom()){return}this.isWinMax=false;var hL=this;var hM=hL.map.infoWindowDoms.maxButton;hM.src=e.plusImg;hL.setContent();hL.map.infoWindowDoms.maxContentDiv.style.display="none";hL.redraw();hL.dispatchEvent(new a6("onrestore"));hL.setPanToWithDelay()},_revert:function(){if(!this._isMyDom()){return}this.isWinMax=false;var hL=this.map.infoWindowDoms;hL.titleDiv.innerHTML="";hL.contentDiv.innerHTML="";hL.maxContentDiv.innerHTML="";hL.maxButton.src=e.plusImg},_setOverflow:function(){var hN=this.map;if(!this._isMyDom()){return}var hM=hN.infoWindowDoms;var hL=hM.contentMain.style;hM._overflowX=hL.overflowX;hM._overflowY=hL.overflowY;hL.overflowX="hidden";hL.overflowY="hidden"},_resetOverflow:function(){var hN=this.map;if(!this._isMyDom()||!hN.infoWindowDoms._overflowX||!hN.infoWindowDoms._overflowY){return}var hM=hN.infoWindowDoms;var hL=hM.contentMain.style;hL.overflowX=hM._overflowX;hL.overflowY=hM._overflowY;delete hM._overflowX;delete hM._overflowY},isOpen:function(){if(!this.map){return false}var hL=this.map.temp.infoWin;if(!hL){return false}if(!this._isMyDom()){return false}if(hL&&hL.overlay===this.overlay&&this.map.infoWindowDoms&&this.map.infoWindowDoms.popDom.style.display==="none"){return false}else{return true}},setMaxScene:function(hM){var hN=this;if(!this._isMyDom()){return}var hL=hN.map.infoWindowDoms;hL.maxButton.style.display="block";var hO=hL.maxButton;if(!!hM===!!this.isWinMax){return}if(hM){hN.isWinMax=true;hO.src=e.minusImg;hN.setMaxContent();hL.maxContentDiv.style.display="block"}else{hN.isWinMax=false;hO.src=e.plusImg;hN.setContent();hL.maxContentDiv.style.display="none"}this.redraw()},_draw:function(){if(this._visible===true&&this.overlay){this.overlay.openInfoWindow(this)}},_isMyDom:function(){return(this.map&&this.map.infoWindowDoms&&this.map.infoWindowDoms.hashCode===this.hashCode)}});cP.prototype.openInfoWindow=function(hO){if(this.map&&this.map.temp&&this.map.temp.infoWin instanceof i.SimpleInfoWindow){this.map.closeSimpleInfoWindow()}var hN=this.map;if(!hO||!this.map||!this.domElement||this.isVisible()===false||hO.toString()!=="InfoWindow"){return}var hM=hN.temp;if(hM.infoWin&&hM.infoWin.overlay&&hM.infoWin.overlay._fromMap){hN.closeInfoWindow()}if(hM.infoWin===hO&&hM.infoWin.isOpen()&&hM.infoWin.overlay===this){hO.setPanToWithDelay();return}hN.closeInfoWindow();this.infoWindow=hO;if(hM.infoWin==null||hM.infoWin!==hO){if(hN.infoWindowDoms){hN.infoWindowDoms.closeButton.onclick=null;hN.infoWindowDoms.maxButton.onclick=null}hM.infoWin=hO;hO.initialize(this)}else{hO.redraw(null,true)}C.BaseClass.call(hO,hO.hashCode);if(!hM._clickCloseHandler){hM._clickCloseHandler=function(hP){if(hP.overlay||(hP.spots&&hP.spots.length>0)){return}if(hN.temp.infoWin&&hN.temp.infoWin._config.enableCloseOnClick){hN.closeInfoWindow();hN.removeEventListener("spotclick",hM._clickCloseHandler);hM._clickCloseBinded=false}}}if(!hM._clickCloseBinded){setTimeout(function(){hN.addEventListener("spotclick",hM._clickCloseHandler);hM._clickCloseBinded=true},200)}if(hM._infoWin){delete hM._infoWin}hO.overlay=this;var hL=hN.infoWindowDoms;this.map.getPanes().floatPane.appendChild(hL.popDom);this.map.getPanes().floatShadow.appendChild(hL.shadowDom);hO.setPanToWithDelay();this.dispatchEvent(new a6("oninfowindowopen"))};cP.prototype.closeInfoWindow=function(){if(!this.map||!this.map.infoWindowDoms){return}var hM=this;if(hM.infoWindow&&hM.infoWindow.hashCode===hM.map.infoWindowDoms.hashCode){try{if(hM.infoWindow.hide()===true){hM.dispatchEvent(new a6("oninfowindowclose"));if(hM.map){hM.map.temp.infoWin=null}hM.infoWindow=null}}catch(hL){}}}})(bj);');
