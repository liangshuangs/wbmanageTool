/**/﻿_jsload&&_jsload('otherSearch', 'function e2(i,e){var T=document.createElement("script");T.onload=function(hI){T.parentNode.removeChild(T);e&&e(hI)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}C.extend(cN.prototype,{getCurrentPosition:function(hL,hO){var hM=this;var T=false;hO=hO||{};hM.config={timeout:hO.timeout||hM.config.timeout,maximumAge:hO.maximumAge||hM.config.maximumAge,enableHighAccuracy:hO.enableHighAccuracy||hM.config.enableHighAccuracy,SDKLocation:hO.SDKLocation||hM.config.SDKLocation};var e=setTimeout(function(){if(T){return}hM.statusCode=BMAP_STATUS_TIMEOUT;i(null)},hM.config.timeout+2000);var hJ=function(hP){if(T){return}if(e){clearTimeout(e);e=null}hM.geolocationInfo=hP;if(BMapGL===null){return}hL.apply(hM,arguments);T=true};var i=function(hP){if(T){return}if(e){clearTimeout(e);e=null}hM.geolocationInfo=hP;hL.apply(hM,arguments);T=true};function hN(hP){if(bs.checkUsability()){var hQ=new bs({timeout:hM.config.timeout,maximumAge:hM.config.maximumAge,enableHighAccuracy:hM.config.enableHighAccuracy});hQ.getCurrentPosition(function(hR){hJ(hR)},function(hR){switch(hR.errorCode){case hR.ERR_PERMISSION_DENIED:case hR.ERR_INSECURE_ORIGINS:hM.statusCode=BMAP_STATUS_PERMISSION_DENIED;i(null);break;case hR.ERR_POSITION_UNAVAILABLE:hM.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;hP();break;case hR.ERR_TIMEOUT:hM.statusCode=BMAP_STATUS_TIMEOUT;hP();break}});return}}function hK(hP){if(aF.checkUsability()){var hQ=new aF({});hQ.getCurrentPosition(function(hR){hJ(hR)},function(hR){hP()});return}hP()}function hI(hP){var hQ=new gd({SDKLocation:hM.config.SDKLocation});hQ.getCurrentPosition(function(hR){hJ(hR)},function(){hP()})}hI(function(){hN(function(){hK(function(){hM.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});cN.prototype.getCurrentPosition=cN.prototype.getCurrentPosition;cN.prototype.getStatus=cN.prototype.getStatus;function bs(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false}}bs.checkUsability=function(){if(navigator.geolocation){return true}return false};C.extend(bs.prototype,{getCurrentPosition:function(e,i){var hI=function(hK){if(/BIDUBrowser/i.test(navigator.userAgent)){var hN=new V();hN.getLocation(new hj(hK.coords["longitude"],hK.coords["latitude"]),function(hO){var hP=new ap();hP.accuracy=hK.coords["accuracy"]>1999?1999:hK.coords["accuracy"];hP.longitude=hK.coords["longitude"];hP.latitude=hK.coords["latitude"];hP.point=new hj(hP.longitude,hP.latitude);if(hO.addressComponents){if(hO.addressComponents["province"]){hP.address.province=hO.addressComponents["province"]}if(hO.addressComponents["city"]){hP.address.city=hO.addressComponents["city"]}if(hO.addressComponents["district"]){hP.address.district=hO.addressComponents["district"]}if(hO.addressComponents["street"]){hP.address.street=hO.addressComponents["street"]}if(hO.addressComponents["streetNumber"]){hP.address.street_number=hO.addressComponents["streetNumber"]}}e(hP)});return}var hM=Math.floor(Math.random()*100000);var hL="_cbk"+hM;window.baidu=window.baidu||{};window.baidu[hL]=function(hP){var hO={x:hP.x,y:hP.y};var hS=new hj(hO.x,hO.y);var hR=new ap();hR.accuracy=hK.coords["accuracy"]>1999?1999:hK.coords["accuracy"];hR.longitude=hS.lng;hR.latitude=hS.lat;hR.point=new hj(hS.lng,hS.lat);var hQ=new V();hQ.getLocation(hS,function(hT){var hU=hT.addressComponents;if(hU){if(hU.province){hR.address.province=hU.province}if(hU.city){hR.address.city=hU.city}if(hU.district){hR.address.district=hU.district}if(hU.street){hR.address.street=hU.street}if(hU.streetNumber){hR.address.street_number=hU.streetNumber}}e(hR)})};var hJ=["qt=coordtrans","x="+hK.coords["longitude"],"y="+hK.coords["latitude"],"from=0","to=4","callback=baidu."+hL];e2(eV.apiHost+"/?"+hJ.join("&"))};var T=function(hJ){var hK=new m();if(hJ.code===hJ.PERMISSION_DENIED&&hJ.message.indexOf("secure")===-1){hK.errorCode=hK.ERR_PERMISSION_DENIED;hK.errorMessage="用户拒绝定位请求"}if(hJ.code===hJ.POSITION_UNAVAILABLE){hK.errorCode=hK.ERR_POSITION_UNAVAILABLE;hK.errorMessage="定位不可用"}if(hJ.message.indexOf("secure")>-1){hK.errorCode=hK.ERR_INSECURE_ORIGINS;hK.errorMessage="定位请求需要https环境"}if(hJ.code===hJ.TIMEOUT){hK.errorCode=hK.ERR_TIMEOUT;hK.errorMessage="定位超时"}i(hK)};navigator.geolocation.getCurrentPosition(hI,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function aF(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}aF.checkUsability=function(){return true};C.extend(aF.prototype,{getCurrentPosition:function(T,hJ){var hK=Math.floor(Math.random()*100000);var hI="_cbk"+hK;window[hI]=function(hL){if(hL.result){if(hL.result["error"]===161){if(hL.content&&hL.content["location"]){var hM=new ap();hM.accuracy=hL.content["radius"];hM.longitude=hL.content["location"]["lng"];hM.latitude=hL.content["location"]["lat"];hM.point=new hj(hL.content["location"]["lng"],hL.content["location"]["lat"])}if(hL.content&&hL.content["address_component"]){if(hL.content["address_component"]["country"]){hM.address.country=hL.content["address_component"]["country"]}if(hL.content["address_component"]["province"]){hM.address.province=hL.content["address_component"]["province"]}if(hL.content["address_component"]["city"]){hM.address.city=hL.content["address_component"]["city"]}if(hL.content["address_component"]["district"]){hM.address.district=hL.content["address_component"]["district"]}if(hL.content["address_component"]["street"]){hM.address.street=hL.content["address_component"]["street"]}if(hL.content["address_component"]["street_number"]){hM.address.street_number=hL.content["address_component"]["street_number"]}}T(hM);return}else{if(hL.result["error"]===0){if(hL.content&&hL.content["location"]){var hM=new ap();hM.longitude=hL.content["location"]["lng"];hM.latitude=hL.content["location"]["lat"];hM.point=new hj(hL.content["location"]["lng"],hL.content["location"]["lat"])}if(hL.content&&hL.content["address_component"]){if(hL.content["address_component"]["country"]){hM.address.country=hL.content["address_component"]["country"]}if(hL.content["address_component"]["province"]){hM.address.province=hL.content["address_component"]["province"]}if(hL.content["address_component"]["city"]){hM.address.city=hL.content["address_component"]["city"]}if(hL.content["address_component"]["district"]){hM.address.district=hL.content["address_component"]["district"]}if(hL.content["address_component"]["street"]){hM.address.street=hL.content["address_component"]["street"]}if(hL.content["address_component"]["street_number"]){hM.address.street_number=hL.content["address_component"]["street_number"]}}T(hM);return}}}var hN=new m();hN.errorCode=hN.ERR_POSITION_UNAVAILABLE;hN.errorMessage="请求IP地理定位信息失败";hJ(hN)};var i="pc";if(fW()){i="mb"}var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:f5,qt:aK,v:"3.0"};cv.request(function(hM,hL){window[hI](hM)},e)}});function gd(e){this.config={SDKLocation:e.SDKLocation||false}}C.extend(gd.prototype,{getCurrentPosition:function(i,hI){var hJ=Math.floor(Math.random()*100000);var T="_cbk"+hJ;window.baidu=window.baidu||{};window.baidu[T]=function(hL){hL=JSON.parse(hL);if(hL&&hL.errorcode===1){hJ=Math.floor(Math.random()*100000);T="_cbk"+hJ;window.baidu=window.baidu||{};window.baidu[T]=function(hN){var hM={x:hN.x,y:hN.y};var hQ=new hj(hM.x,hM.y);var hP=new ap();hP.longitude=hQ.lng;hP.latitude=hQ.lat;hP.point=new hj(hQ.lng,hQ.lat);var hO=new V();hO.getLocation(hQ,function(hR){var hS=hR.addressComponents;if(hS){if(hS.province){hP.address.province=hS.province}if(hS.city){hP.address.city=hS.city}if(hS.district){hP.address.district=hS.district}if(hS.street){hP.address.street=hS.street}if(hS.streetNumber){hP.address.street_number=hS.streetNumber}}i(hP)})};var hK=["qt=coordtrans","x="+hL.longitude,"y="+hL.latitude,"from=0","to=4","callback=baidu."+T];e2(eV.apiHost+"/?"+hK.join("&"))}else{hI()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{hI()}}});function ap(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function m(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}C.extend(V.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hI=this._queryList[T];this[hI.method].apply(this,hI.arguments)}delete this._queryList},getPoint:function(e,hJ,hI){var T=this;hI=hI||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}cv.request(function(hU){if(hU&&hU.result&&hU.result["type"]==cz){var hW=hU.result;var hP=hU.content;var hT=null;var hV=null;if(hW){if(hW.error==0&&hP){var hR=hP.coord["x"];var hQ=hP.coord["y"];var hL=hP.cn;var hM=hP.sc;var hS=hP.wd;var hN=hP.prc;var hO=hP.fuzzy_score;var hK=hP.catalog;hT=new hj(hR,hQ);hT=ef.convertMC2LL(hT);hV={city:hL,citycode:hM,address:hS,precise:hN,confidence:hO,level:hK}}}hJ&&hJ(hT,hV)}},{qt:hv,wd:e,cn:hI})},getLocation:function(i,hM,hJ){if(!(i instanceof hj||i instanceof cX)&&hM){hM(null);return}var hI=this;var i=ef.convertLL2MC(i);var e=i.lng;var hL=i.lat;var hJ=hJ||{};var T=hJ.poiRadius||100;var hK=hJ.numPois||10;cv.request(function(h3){var hQ=null;if(h3&&h3.result&&h3.result["type"]==f8){var hT=h3.result;var h0=h3.content;var hS;var hU={};var hV=[];var hX;if(hT.error==0&&h0){var h4=h0.address_detail;var h1=h4.city;if(h4){hU.streetNumber=h4.street_number;hU.street=h4.street;hU.district=h4.district;hU.city=h1;hU.province=h4.province}hX=h0.point;var hZ=new hj(hX.x,hX.y);hZ=ef.convertMC2LL(hZ);var hP=h0.surround_poi;if(hP&&hP.length){for(var h2=0,hY=hP.length;h2<hY;h2++){var hO={},hR=hP[h2];hO.title=hR.name;hO.uid=hR.uid;var hW=new hj(hR.point["x"],hR.point["y"]);hW=ef.convertMC2LL(hW);hO.point=hW;hO.city=h1;hO._poiType=hR.poiType;hO.type=BMAP_POI_TYPE_NORMAL;hO.address=hR.addr;hO.postcode=hR.zip||null;hO.phoneNumber=hR.tel||null;var hN=hO._poiType;if(hN.length!==0){hO.tags=hN.split(",")}hV.push(hO)}}hQ={point:hZ,address:h0.address,addressComponents:hU,surroundingPois:hV,business:h0.business}}}hM&&hM(hQ)},{qt:fD,x:e,y:hL,dis_poi:T,poi_num:hK,latest_admin:"1"})}});C.extend(gq.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hI=this._queryList[T];this[hI.method].apply(this,hI.arguments)}delete this._queryList},get:function(hI,e){var hK={};hK.boundaries=[];if(hI==="中国"||hI==="全国"||hI==="中华人民共和国"){e&&e(hK);return}var hL=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(hI==="台湾省"||hI==="台湾"){for(var hJ=0;hJ<6;hJ++){hK.boundaries[hJ]=T[hJ]}hK.boundaries[6]=T[9];e&&e(hK)}if(hI==="钓鱼岛"){for(var hJ=0;hJ<1;hJ++){hK.boundaries[hJ]=T[6]}e&&e(hK)}if(hI==="赤尾屿"){for(var hJ=0;hJ<1;hJ++){hK.boundaries[hJ]=T[7]}e&&e(hK)}cv.request(function(i){if(i&&i.content&&i.content.uid){var hM=i.content.uid;cv.request(function(h2){if(h2&&h2.content&&h2.content["geo"]){var hR=O.parseGeo(h2.content["geo"],false);if(hR.geo&&hR.geo.length&&hR.geo.length>0){var h7=hR.geo.length;for(h9=0;h9<h7;h9++){var hQ=hR.geo[h9];if(hQ&&hQ.length&&hQ.length>0){var hZ=hQ.length-1;var h6=[];var hY=false;var h5=0;var h4=0;for(var h8=0;h8<hZ;h8+=2){var hW=hQ[h8];var hT=hQ[h8+1];var h3=new hj(hW,hT);h3=ef.convertMC2LL(h3);if(h8<hZ-3){var hO=hQ[h8+2];var hN=hQ[h8+3];var h1=new hj(hO,hN);h1=ef.convertMC2LL(h1)}var h0=function(id,ic){if(id.lng>109&&id.lng<113&&id.lat>15&&id.lat<19){if((id.lng-ic.lng)>1&&(id.lat-ic.lat<-1)){hY=true;h5=h8/2}if((id.lng-ic.lng)<-1&&(id.lat-ic.lat>1)){hY=true;h4=h8/2}}};if(hI.indexOf("全国")>-1||hI.indexOf("中国")>-1||hI.indexOf("中华人民共和国")>-1){var hV=function(ic){return((ic.lng>=117.546263&&ic.lng<=118.711042)&&(ic.lat>=38.697981&&ic.lat<=38.91302))};var hP=function(ic){return((ic.lng>=113.576516&&ic.lng<=113.638822)&&(ic.lat>=22.146067&&ic.lat<=22.156645))};if(hV(h3)||hP(h3)){h6.length=0;break}h0(h3,h1)}if(hI.indexOf("海南")>-1){h0(h3,h1)}h6.push(h3.lng+", "+h3.lat)}if(hY===true){if(h5>h4){var ia=h5;h5=h4;h4=ia}var hX=h6;var hU=h6.splice(h5+1);var hS=hU.splice(h4-h5);hX=hX.concat(hS);hK.boundaries.push(hX.join(";"));hK.boundaries.push(hU.join(";"));hY=false;continue}if(h6.length!==0){hK.boundaries.push(h6.join(";"))}}}}}var ib=hK.boundaries.length;if((hI==="中国"||hI==="全国"||hI==="中华人民共和国")&&hK.boundaries.length>0){for(var h9=0;h9<T.length-1;h9++){hK.boundaries[ib+h9]=T[h9]}}e&&e(hK)},{qt:H,num:1000,l:10,uid:hM})}else{e&&e(hK)}},{qt:ee,wd:hI})},_parseGeoSpecial:function(hL){var hO=this;var hI=[];if(typeof(hL)!="string"){return hI}var T=hL.split("|");var hS=T[2];var hK=hS.split(";");for(var hM=0;hM<hK.length-1;hM++){var hR=hK[hM];var hN=[];var e=hR.split(",");for(var hJ=0;hJ<e.length;hJ+=2){var hQ=e[hJ];var hP=e[hJ+1];var hT=new hj(hQ,hP);hT=ef.convertMC2LL(hT);hN.push(hT.lng+", "+hT.lat)}hI.push(hN.join(";"))}return hI}});C.extend(W.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hI=this._queryList[T];this[hI.method].apply(this,hI.arguments)}delete this._queryList},get:function(i){var e=this;cv.request(function(hK){if(hK&&hK.result&&hK.result["type"]==gg){var hI=hK.result,hM=hK.content;if(hI){if(hI.error==0){var hN=e._opts.renderOptions.map;var hO=hM.level;var hJ=hM.cname;var hL=hM.code;var T=O.parseGeo(hM.geo,true).point;hO=O.getBestLevel(hO,hN);if(hN){hN.centerAndZoom(T,hO)}}}i&&i({center:T,level:hO,name:hJ,code:hL})}},{qt:ep})}});');
